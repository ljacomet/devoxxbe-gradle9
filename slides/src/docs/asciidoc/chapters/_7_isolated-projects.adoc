[background-color="#02303a"]
== Isolated Projects
image::gradle/bg-4.png[background, size=cover]

üé∂

=== Limitations of Configuration Cache
image::gradle/bg-4.png[background, size=cover]

[%step]
* What about the work of the build engineer?
* What about dependency upgrades and other build focused engineering tasks?

[.notes]
****
Alex

* Invalidation
* No Remote  Cache
****

=== Did you say cache miss?
image::gradle/bg-4.png[background, size=cover]

[%step]
* On a miss, the configuration phase needs to run
* But, with no shared mutable state between projects, it could
[%step]
** Run in parallel
*** following the projects hierarchy
** Be cached incrementally
*** task sub-graphs cached per project

=== More constraints
image::gradle/bg-4.png[background, size=cover]

* No _mutable_ cross project access during configuration
** Example: No `allprojects` or `subprojects` that _mutates_ project configuration

[.notes]
--
* Applying a plugin only on the root project
--

// // NOTE: Not designed yet
// === Progressive adoption
// image::gradle/bg-4.png[background, size=cover]
//
// [%step]
// * Isolated Projects detects violations
// * aka. configuration-coupling between projects
// * Creating buckets of coupled projects
// * Configuring and caching them in parallel and incrementally

=== Isolated Projects Status
image::gradle/bg-4.png[background, size=cover]

* Alpha experiment on top of the Configuration Cache
* Interesting for early adopters
* Focuses on speeding up the IDE experience first

[.notes]
****
* We're really close to have IntelliJ and Gradle ready for early adopters
****

=== Isolated Projects violations
image::gradle/bg-4.png[background, size=cover]

Any access to mutable state of another project

* `allprojects { group = "..." }`
* `version = rootProject.version`
* `dependsOn(project(":b").tasks.findByName("foo"))`

[.notes]
****

****

=== Isolated Projects-safe APIs
image::gradle/bg-4.png[background, size=cover]

* `IsolatedProject`
** `rootProject.isolated.projectDirectory`
* `GradleLifecycle`
** `gradle.lifecycle.beforeProject` +
   `{ group = "..." }`

=== Isolated Projects-safe approaches*
image::gradle/bg-4.png[background, size=cover]

* Convention plugins
* Lifecycle callbacks
* Task-output sharing via configuration dependencies

[.medium.right.top-margin]
*for early adopters

=== Isolated Projects Roadmap
image::gradle/bg-4.png[background, size=cover]

* Parallel configuration for Sync ‚úÖ
* Parallel configuration for CLI ‚úÖ
* Incremental configuration for Sync üèóÔ∏è
* Incremental configuration for CLI üî¨

=== Isolated Projects Adoption
image::gradle/bg-4.png[background, size=cover]

* Ecosystem plugins
** Java ‚úÖ
** Kotlin üèóÔ∏è
** Android üèóÔ∏è
* Other plugins
** Core validation plugins ‚úÖ
** Other core plugins ‚è≥
** Popular community plugins ‚è≥

[background-color="#02303a"]
=== Demo
image::gradle/bg-7.png[background, size=cover]

[.notes]
****
* Use `ip-parallel` demo
* Note on latest versions (Gradle 8.11-milestone, IDEA EAP)
* Parallel configuration for CLI
* Parallel configuration for Sync
* Introduce a violation with allproject-sets-group
* Show the violation in the report
* Fix the violation
****

=== Early adoption approach

* Read Isolated Projects overview in the link:https://docs.gradle.org/current/userguide/isolated_projects.html[userguide]
* Start with the `help` task with +
  [.medium]`-Dorg.gradle.unsafe.isolated-projects=true`
** Inspect the violations in the report
* For Sync, add the line to the `gradle.properties` +
  [.medium]`org.gradle.unsafe.isolated-projects=true`
* Report found problems to community plugins you use
